# PoC ZigBee сниффера
## Принцип работы
- Данный проект - аппаратный сниффер Zigbee пакетов в сети. Реализован под esp32c6. После включения в UART пишет в формате .pcap, сначала единажды отправляет заголовок файла, а затем и все отловленные пакеты, также модифицированные в .pcap
- Если с момента включения начать писать эти данные в файл, то затем (задав ему расширение .pcap), можно открыть в Wireshark и посмотреть активность в сети в неком offline-формате
- Также можно подключиться к этому же UART, когда нужно, сразу и смотреть активность в сети через Wireshark в прямом эфире (для этого нужно добавить ему дополнительный интерфейс внешнего захвата)

## Инструкция пользования
- Для начала необходимо прошить esp32c6 прошивкой [ZigbeeSniffer](./ZigbeeSniffer/). Там, в [sniffer.h](ZigbeeSniffer/main/sniffer.h), можно настроить нужный Zigbee-канал, скорость и пины для UART
- В папке же [WiresharkSerialAdapter](./WiresharkSerialAdapter/) лежит исходный код и собранная программа интерфейса внешнего захвата. В файле [tasks.json](WiresharkSerialAdapter/ZigbeeSnifferAdapter/.vscode/tasks.json) можно выбрать параметры сборки (компилятор, пусть, где будет собран исполняемый файл, его название и т.д.)
- Собранный файл [WireSharkSerialAdapter.exe](WiresharkSerialAdapter/WireSharkSerialAdapter.exe) необходимо поместить в папку Wirechark/extcap/. Теперь, при запуске Wireshark, в нём будет появляться ещё один доступный сетевой интерфейы "ZigbeeSniffer", в его параметрах можно настроить параметры UART и начать захват